<div th:fragment="header">
    <!-- Font Awesome CSS -->
    <link href="/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/css/sb-admin-2.min.css" rel="stylesheet">
    <link href="/css/custom.css" rel="stylesheet">

    <!-- jQuery and Bootstrap scripts -->
    <script src="/vendor/jquery/jquery.min.js"></script>
    <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages -->
    <script src="/js/sb-admin-2.min.js"></script>
    <script src="/js/auth.js"></script>

    <!-- Sidebar adjustment for web/mobile -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let sidebar = document.getElementById("accordionSidebar");
            let sidebarToggle = document.getElementById("sidebarToggleTop");
            let currentPath = window.location.pathname;

            // ì‚¬ì´ë“œë°” ì´ˆê¸°í™”
            function resetSidebar() {
                let navItems = sidebar.querySelectorAll('.nav-item');
                navItems.forEach(item => {
                    item.classList.remove('active');
                    let collapseMenu = item.querySelector('.collapse');
                    if (collapseMenu) {
                        collapseMenu.classList.remove('show');
                    }
                });
            }

            // ì´ˆê¸° í˜ì´ì§€ ë¡œë“œ ì‹œ ì‚¬ì´ë“œë°” ì´ˆê¸°í™”
            resetSidebar();

            // ì‚¬ì´ë“œë°” í† ê¸€ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
            if (sidebarToggle) {
                sidebarToggle.addEventListener("click", function() {
                    sidebar.classList.toggle("toggled");
                    resetSidebar(); // ì‚¬ì´ë“œë°”ê°€ ì—´ë¦´ ë•Œ ë©”ë‰´ ë¹„í™œì„±í™”
                });
            }
        });
    </script>

    <!-- jQuery ì½”ë“œ ì¶”ê°€ -->
	<script>
	    $(document).ready(function() {
	        // í˜„ì¬ í˜ì´ì§€ì˜ ë©”ë‰´ í™œì„±í™” í•¨ìˆ˜
	        function activateCurrentMenu() {
	            const currentUrl = window.location.pathname;
	
	            // ëª¨ë“  ë©”ë‰´ ì´ˆê¸°í™”
	            $('.nav-item').removeClass('active'); // ìƒìœ„ ë©”ë‰´ ë¹„í™œì„±í™”
	            $('.collapse-item').removeClass('active'); // í•˜ìœ„ ë©”ë‰´ ë¹„í™œì„±í™”
	            $('.collapse').removeClass('show'); // ëª¨ë“  í•˜ìœ„ ë©”ë‰´ ë‹«ê¸°
	
	            // í˜„ì¬ URLê³¼ ì¼ì¹˜í•˜ëŠ” ë©”ë‰´ ì°¾ê¸°
	            $('.collapse-item').each(function() {
	                if ($(this).attr('href') === currentUrl) {
	                    $(this).addClass('active'); // í˜„ì¬ í˜ì´ì§€ì˜ í•˜ìœ„ ë©”ë‰´ í™œì„±í™”
	                    $(this).closest('.collapse').addClass('show'); // í•˜ìœ„ ë©”ë‰´ ì—´ê¸°
	                    $(this).closest('.nav-item').addClass('active'); // ìƒìœ„ ë©”ë‰´ í™œì„±í™”
	                }
	            });
	
	            // ë””ë²„ê¹…: ë©”ë‰´ ìƒíƒœ í™•ì¸
	            //console.log("ğŸ” [ë””ë²„ê¹…] í˜„ì¬ í™œì„±í™”ëœ collapse ë©”ë‰´:", $(".collapse.show"));
	        }
	
	        // ëª¨ë°”ì¼ì—ì„œ ì‚¬ì´ë“œë°” í† ê¸€ ë²„íŠ¼ í´ë¦­ ì‹œ ì‹¤í–‰
	        function toggleSidebarMenu() {
	            if ($(window).width() <= 768) { // ëª¨ë°”ì¼ ëª¨ë“œì¼ ë•Œë§Œ ì‹¤í–‰
	                $('.collapse').removeClass('show'); // ëª¨ë“  í•˜ìœ„ ë©”ë‰´ ë‹«ê¸°
	            }
	        }
	
	        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰ (ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ë°˜ì˜)
	        activateCurrentMenu();
	
	        // ëª¨ë°”ì¼ì—ì„œ ì‚¬ì´ë“œë°” í† ê¸€ ë²„íŠ¼ í´ë¦­ ì‹œ
	        $('#sidebarToggleTop').click(function() {
	            $('#sidebar').toggle(); // ì‚¬ì´ë“œë°” í‘œì‹œ/ìˆ¨ê¸°ê¸°
	            toggleSidebarMenu(); // ëª¨ë°”ì¼ ëª¨ë“œì—ì„œëŠ” í•˜ìœ„ ë©”ë‰´ ìë™ ë‹«ê¸°
	        });
	
	        // ë””ë²„ê¹…: collapseê°€ show í´ë˜ìŠ¤ë¥¼ ê°€ì¡ŒëŠ”ì§€ í™•ì¸
	        //console.log("ğŸ” [ë””ë²„ê¹…] collapseê°€ show í´ë˜ìŠ¤ë¥¼ ê°€ì¡ŒëŠ”ì§€ í™•ì¸:", $(".collapse").hasClass("show"));
	        //console.log("ğŸ” [ë””ë²„ê¹…] collapse í´ë˜ìŠ¤ ì ìš©ëœ ìš”ì†Œ:", $(".collapse"));
	        //console.log("ğŸ” [ë””ë²„ê¹…] show í´ë˜ìŠ¤ë¥¼ ê°€ì§„ collapse ë©”ë‰´:", $(".collapse.show"));
	
	        // ëª¨ë°”ì¼ì—ì„œ í˜ì´ì§€ ë¡œë“œ ì‹œ ëª¨ë“  collapse ë©”ë‰´ ë‹«ê¸°
	        if ($(window).width() <= 768) {
	            //console.log("ğŸ” [ë””ë²„ê¹…] ëª¨ë°”ì¼ ëª¨ë“œ - ëª¨ë“  collapse ë©”ë‰´ ë‹«ê¸°");
	            $('.collapse').removeClass('show');
	        }
	    });
	</script>
</div>
